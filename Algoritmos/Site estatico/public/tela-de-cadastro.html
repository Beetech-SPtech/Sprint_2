<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Cadastro</title>
    <link rel="stylesheet" href="styles/cadastro.css">
     <link rel="icon" href="assets/images/beetech-icon.png">
</head>

<body>
    <div class="container-pai">
     <header>
    <div class="container">
      <a href="index.html"><img src="assets/images/beetech.png" alt="logo_beetech" /></a>
      <ul class="navbar">
        <li><a href="index.html">Voltar para a página inicial</a></li>

      </ul>
    </div>
  </header>
<div class="main">
    <div class="container">
        <img src="assets/images/beetech-logo.png" alt="" class="fundo">
        <br>
        <br>
        <h3>CADASTRO</h3>
        <br>
        <div class="container-campos">
            <div class="campos">
                <div class="ladoEsquerdo">
                    <div class="caixaInput">
                        <p class="cabecalho">Nome:</p>
                        <input type="text" placeholder="Ex: Bee" id="input_nome" oninput="cadastrarNome()" />
                        <p id="erro_nome"></p>
                    </div>
                    <div class="caixaInput">
                        <p class="cabecalho">E-mail:</p>
                        <input type="text" placeholder="Ex: beetech@sptech.school" id="input_email" oninput="cadastrarEmail()" />
                        <p id="erro_email"></p>
                    </div>
                    <div class="caixaInput">
                        <p class="cabecalho">Data de nascimento:</p>
                        <input type="text" placeholder="Ex: 21/01/2007" id="input_nascimento" oninput="cadastrarNascimento()" />
                        <p id="erro_nascimento"></p>
                    </div>
                    <div class="caixaInput">
                        <p class="cabecalho">Confirmar senha:</p>
                        <input type="password" placeholder="Ex: Beetech#2025" id="input_confirmarsenha"
                            oninput="cadastrarConfirmarSenha()" />
                        <p id="erro_confirmarsenha"></p>
                    </div>  
                </div>
                <div class="ladoDireito">
                    <div class="caixaInput">
                        <p class="cabecalho">Sobrenome:</p>
                        <input type="text" placeholder="Ex: Tech" id="input_sobrenome" oninput="cadastrarSobrenome()" />
                        <p id="erro_sobrenome"></p>
                    </div>
    
    
                    <div class="caixaInput">
                        <p class="cabecalho">Telefone:</p>
                        <input type="text" placeholder="Ex: 1191234123" id="input_telefone" oninput="cadastrarTelefone()" />
                        <p id="erro_telefone"></p>
                    </div>
    
                    <div class="caixaInput">
                        <p class="cabecalho">Senha:</p>
                        <input type="password" placeholder="Ex: Beetech#2025" id="input_senha" oninput="cadastrarSenha()" />
                        <p id="erro_senha1"></p>
                        <p id="erro_senha2"></p>
                        <p id="erro_senha3"></p>
                    </div>
                </div>
            </div>
        </div>
        <div class="div_button">
            <br>
            <button id="button_cadastrar" onclick="cadastrar()">Cadastrar</button>
            <p id="erro_confirmarcadastro"></p>
            <br>
            <a href="login.html">Login </a>
        </div>
    </div>
    </div>
    </div>
    </div>
</body>

</html>

<!-- // --------------------------------------------------- -->
<script>
    var senha = ``
    var confirmacaoCadastro1 = 'a'
    var confirmacaoCadastro2 = 'b'
    var confirmacaoCadastro3 = 'c'
    var confirmacaoCadastro4 = 'd'
    var confirmacaoCadastro5 = 'e'
    var confirmacaoCadastro6 = 'f'
    var confirmacaoCadastro7 = 'g'
    function cadastrarNome() {
        var nome = input_nome.value;



        // ver se o nome está com alguma caractere especial
        if (
            nome.includes("!") ||
            nome.includes("@") ||
            nome.includes("#") ||
            nome.includes("$") ||
            nome.includes("%") ||
            nome.includes("&") ||
            nome.includes("*") ||
            nome.includes("(") ||
            nome.includes(")")
        ) {
            erro_nome.innerHTML = `Você precisa inserir um nome válido.`;
            confirmacaoCadastro1 = 'a'
        } else {
            erro_nome.innerHTML = ``;
            confirmacaoCadastro1 = 'A'
        }
    }
    function cadastrarSobrenome() {
        var sobrenome = input_sobrenome.value;
        if (
            sobrenome.includes("!") ||
            sobrenome.includes("@") ||
            sobrenome.includes("#") ||
            sobrenome.includes("$") ||
            sobrenome.includes("%") ||
            sobrenome.includes("&") ||
            sobrenome.includes("*") ||
            sobrenome.includes("(") ||
            sobrenome.includes(")")
        ) {
            erro_sobrenome.innerHTML = `Você precisa inserir um sobrenome válido.`;
            confirmacaoCadastro2 = 'b'
        } else {
            erro_sobrenome.innerHTML = ``;
            confirmacaoCadastro2 = 'B'
        }
    }
    function cadastrarEmail() {
        var email = input_email.value;
        if (
            email.includes("@") &&
            ((email.includes("!") ||
                email.includes("#") ||
                email.includes("$") ||
                email.includes("%") ||
                email.includes("&") ||
                email.includes("*") ||
                email.includes("(") ||
                email.includes(")") == false))
        ) {
            erro_email.innerHTML = ``;
            confirmacaoCadastro3 = 'C'
        } else {
            erro_email.innerHTML = `Você precisa inserir um email válido.`;
            confirmacaoCadastro3 = 'c'
        }
    }

    function cadastrarTelefone() {
        var telefone = input_telefone.value
            .replaceAll(" ", "")
            .replaceAll("-", "")
            .replaceAll("(", "")
            .replaceAll(")", "");
        // trim(): remove espaços no início e fim.
        // replaceAll(...): remove espaços, traços, parênteses (deixando só os números)
        // Exemplo: Se o usuário digitar (11) 9876-5432, o resultado final será "1198765432".

        var valido = true; // Variável de controle, serve para indicar se o telefone é válido ou não. Inicialmente, supõe-se que é válido.

        // VERIFICAR SE TODOS OS CARACTERES SÃO NÚMEROS:
        var cont = 0; // Começa o contador no primeiro caractere da string (índice 0).

        while (cont < telefone.length) { // Esse while percorre cada caractere do telefone / O laço vai rodar enquanto cont for menor que o comprimento da string
            if (isNaN(Number(telefone[cont]))) { //isNaN(...) verifica se não é número / Number(telefone[cont]) transforma o caractere em número.
                // telefone[cont] acessa cada caractere individual da string, um por um:
                // 1ª vez: telefone[0] → '1'
                // 2ª vez: telefone[1] → '1'
                // 3ª vez: telefone[2] → '9'
                // etc.
                valido = false; // Se achar algo que não é número, marca valido = false. 
                // // Exemplo: telefone = "11987A5432" → quando chegar no “A”, isNaN(Number("A")) será true → então valido = false.
            }
            cont++; // no final de cada volta, soma 1 em cont para ir ao próximo caractere.
        }

        // Só considera o telefone válido se: todos os caracteres são números (valido == true), e tem pelo menos 8 dígitos (telefone.length >= 8).
        if (valido && telefone.length >= 8) {
            erro_telefone.innerHTML = ``;
            confirmacaoCadastro4 = 'D';
        } else {
            erro_telefone.innerHTML = `Você precisa inserir um telefone válido.`;
            confirmacaoCadastro4 = 'd';
        }
    }

    function cadastrarNascimento() {
    var nascimento = input_nascimento.value.trim().replaceAll("/", "");

    if (nascimento.length !== 8 || isNaN(Number(nascimento))) {
        erro_nascimento.innerHTML = `Você precisa inserir uma data válida.`;
        confirmacaoCadastro5 = 'e';
    } else {
        erro_nascimento.innerHTML = ``;
        confirmacaoCadastro5 = 'E';
    }
}
    
    function cadastrarSenha() {
        senha = input_senha.value;
        var tamanhoSenha = senha.length
        var senhaMaisucula = senha.toUpperCase();
        var senhaMinuscula = senha.toLowerCase();
        if (
            tamanhoSenha >= 8 &&
            senha != senhaMaisucula &&
            senha != senhaMinuscula
        ) {
            erro_senha1.innerHTML = ``;
            erro_senha2.innerHTML = ``;
            erro_senha3.innerHTML = ``;
            confirmacaoCadastro6 = 'F'
        } else {
            confirmacaoCadastro6 = 'f'
            if (senha.length < 8) {
                erro_senha1.innerHTML = `A senha precisa ter no mínimo 8 caracteres.`;
            } else {
                erro_senha1.innerHTML = ``;
            }
            if (senha == senhaMaisucula) {
                erro_senha2.innerHTML = `A senha precisa ter no mínimo 1 letra em caixa baixa.`;
            } else {
                erro_senha2.innerHTML = ``;
            }
            if (senha == senhaMinuscula) {
                erro_senha3.innerHTML = `A senha precisa ter no mínimo 1 letra em caixa alta.`;
            } else {
                erro_senha3.innerHTML = ``;
            }
        }
    }
    function cadastrarConfirmarSenha() {
        var confirmarsenha = input_confirmarsenha.value;
        if (senha == confirmarsenha) {
            erro_confirmarsenha.innerHTML = ``;
            confirmacaoCadastro7 = 'G';
        } else {
            erro_confirmarsenha.innerHTML = `A senha não está correta`;
            confirmacaoCadastro7 = 'g';
        }

    }

    function cadastrar() {
        if (
            confirmacaoCadastro1 == 'A' &&
            confirmacaoCadastro2 == 'B' &&
            confirmacaoCadastro3 == 'C' &&
            confirmacaoCadastro4 == 'D' &&
            confirmacaoCadastro5 == 'E' &&
            confirmacaoCadastro6 == 'F' &&
            confirmacaoCadastro7 == 'G'
        ) { erro_confirmarcadastro.innerHTML = `<b style="color:green">Cadastro realizado com sucesso!` } else { erro_confirmarcadastro.innerHTML = `<b style="color:red">Falha ao cadastrar.</b>` }

    }

</script>

